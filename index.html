<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>te amo</title>

<style>
body{
    margin:0;
    background:black;
    overflow:hidden;
    font-family:'Comic Sans MS', cursive;
    color:white;
}

/* Fotos */
.foto{
    position:absolute;
    width:160px;
    opacity:0;
    transition:1.5s;
}
.visible{ opacity:1; }

/* Texto central */
.centro{
    position:absolute;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    text-align:center;
    width:60%;
    font-size:28px;
    opacity:0;
    transition:1.5s;
    z-index:5;
}
.visible-text{ opacity:1; }

/* Botones */
button{
    padding:10px 20px;
    margin:10px;
    font-size:20px;
    border:none;
    border-radius:10px;
    cursor:pointer;
    transition:0.3s;
}

#si{
    background:#ff4d6d;
    color:white;
}

#no{
    background:white;
    color:black;
    position:absolute; /* igual que antes */
}

/* Meme encima de todo */
#memeImg{
    position:fixed;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    width:350px;
    display:none;
    z-index:9999;
}

/* Audio centrado abajo */
audio{
    position:fixed;
    bottom:10px;
    left:50%;
    transform:translateX(-50%);
}

/* Corazones */
.corazon{
    position:fixed;
    bottom:-20px;
    animation:flotar 8s linear infinite;
}
@keyframes flotar{
    0%{transform:translateY(0);}
    100%{transform:translateY(-110vh);}
}

/* Confeti */
.confeti{
    position:fixed;
    width:8px;
    height:8px;
    animation:caer 3s linear forwards;
}
@keyframes caer{
    0%{transform:translateY(-10vh) rotate(0deg);}
    100%{transform:translateY(110vh) rotate(720deg);}
}
</style>
</head>

<body>

<!-- FOTOS -->
<img src="foto1.jpeg" class="foto" id="f1" style="top:5%; left:5%; transform:rotate(-12deg)">
<img src="foto2.jpeg" class="foto" id="f2" style="top:18%; left:12%; transform:rotate(-6deg)">
<img src="foto3.jpeg" class="foto" id="f3" style="top:5%; right:5%; transform:rotate(10deg)">
<img src="foto4.jpeg" class="foto" id="f4" style="top:18%; right:12%; transform:rotate(6deg)">
<img src="foto5.jpeg" class="foto" id="f5" style="top:55%; left:5%; transform:rotate(-10deg)">
<img src="foto6.jpeg" class="foto" id="f6" style="top:65%; left:15%; transform:rotate(8deg)">
<img src="foto7.jpeg" class="foto" id="f7" style="top:75%; left:25%; transform:rotate(-5deg)">
<img src="foto8.jpeg" class="foto" id="f8" style="bottom:20%; right:5%; transform:rotate(9deg)">
<img src="foto9.jpeg" class="foto" id="f9" style="bottom:10%; right:18%; transform:rotate(-7deg)">
<img src="foto10.jpeg" class="foto" id="f10" style="bottom:5%; right:30%; transform:rotate(6deg)">

<!-- LETRAS -->
<div class="centro" id="letra1">
Tú, endulzas mi canción,<br>
le das un buen sabor,<br>
a cada situación
</div>

<div class="centro" id="letra2">
Siempre, tú
</div>

<!-- PREGUNTA -->
<div class="centro" id="pregunta">
¿Me permites ser tu San Valentín?<br><br>
<button id="si">SI!!!</button>
<button id="no">NO!!!</button>
</div>

<img src="meme.jpeg" id="memeImg">

<audio id="musica" controls autoplay>
<source src="chocolate.mp3" type="audio/mp3">
</audio>

<script>
const musica = document.getElementById("musica");
const noBtn = document.getElementById("no");
const siBtn = document.getElementById("si");
let escala = 1;

/* Sincronización más lenta */
musica.addEventListener("timeupdate", function(){
let t = musica.currentTime;

if(t > 5){ mostrarFotos(); }
if(t > 9){ letra1.classList.add("visible-text"); } 
if(t > 24){ letra1.classList.remove("visible-text"); letra2.classList.add("visible-text"); }
if(t > 32){ letra2.classList.remove("visible-text"); pregunta.classList.add("visible-text"); }
});

function mostrarFotos(){
for(let i=1;i<=10;i++){
document.getElementById("f"+i).classList.add("visible");
}
}

/* Corazones */
setInterval(()=>{
let c=document.createElement("div");
c.className="corazon";
c.style.left=Math.random()*100+"vw";
c.style.fontSize=(15+Math.random()*20)+"px";
c.innerHTML="❤️";
document.body.appendChild(c);
setTimeout(()=>c.remove(),8000);
},500);

/* NO huye (igual que antes) */
function moverNo(){
let x=Math.random()*(window.innerWidth-120);
let y=Math.random()*(window.innerHeight-60);
noBtn.style.left=x+"px";
noBtn.style.top=y+"px";

escala += 0.2;
siBtn.style.transform="scale("+escala+")";
}
noBtn.addEventListener("mouseover", moverNo);
noBtn.addEventListener("click", moverNo);

/* SI muestra meme y confeti */
siBtn.addEventListener("click", ()=>{
document.getElementById("memeImg").style.display="block";
lanzarConfeti();
});

/* Confeti */
function lanzarConfeti(){
for(let i=0;i<120;i++){
let c=document.createElement("div");
c.className="confeti";
c.style.left=Math.random()*100+"vw";
c.style.background="hsl("+Math.random()*360+",100%,50%)";
document.body.appendChild(c);
setTimeout(()=>c.remove(),3000);
}
}
</script>

</body>
</html>

